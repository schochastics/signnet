<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Complex Matrices • signnet</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Complex Matrices">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">signnet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/blockmodeling.html">Blockmodeling</a></li>
    <li><a class="dropdown-item" href="../articles/centrality.html">Centrality</a></li>
    <li><a class="dropdown-item" href="../articles/complex_matrices.html">Complex Matrices</a></li>
    <li><a class="dropdown-item" href="../articles/signed_2mode.html">Signed Two-Mode Networks</a></li>
    <li><a class="dropdown-item" href="../articles/signed_networks.html">Signed Networks</a></li>
    <li><a class="dropdown-item" href="../articles/structural_balance.html">Structural Balance</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/schochastics/signnet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Complex Matrices</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/schochastics/signnet/blob/main/vignettes/complex_matrices.Rmd" class="external-link"><code>vignettes/complex_matrices.Rmd</code></a></small>
      <div class="d-none name"><code>complex_matrices.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the use of complex matrices for signed
networks with ambivalent ties.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/schochastics/signnet" class="external-link">signnet</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="representing-networks-with-ambivalent-ties">Representing networks with ambivalent ties<a class="anchor" aria-label="anchor" href="#representing-networks-with-ambivalent-ties"></a>
</h2>
<p>The vignette on <a href="signed_2mode.html">signed two-mode
network</a> introduces a third type of tie for signed networks, the
ambivalent tie.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># construct network</span></span>
<span><span class="va">el</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"a"</span>, <span class="fl">1</span>, <span class="st">"b"</span>, <span class="fl">1</span>, <span class="st">"c"</span>, <span class="fl">2</span>, <span class="st">"a"</span>, <span class="fl">2</span>, <span class="st">"b"</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/graph_from_edgelist.html" class="external-link">graph_from_edgelist</a></span><span class="op">(</span><span class="va">el</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/E.html" class="external-link">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">sign</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># vertex duplication</span></span>
<span><span class="va">gu</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_unsigned_2mode.html">as_unsigned_2mode</a></span><span class="op">(</span><span class="va">g</span>, primary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># project and binarize</span></span>
<span><span class="va">pu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/bipartite_projection.html" class="external-link">bipartite_projection</a></span><span class="op">(</span><span class="va">gu</span>, which <span class="op">=</span> <span class="st">"true"</span><span class="op">)</span></span>
<span><span class="va">pu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/delete_edge_attr.html" class="external-link">delete_edge_attr</a></span><span class="op">(</span><span class="va">pu</span>, <span class="st">"weight"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># vertex contraction</span></span>
<span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_signed_proj.html">as_signed_proj</a></span><span class="op">(</span><span class="va">pu</span><span class="op">)</span></span>
<span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">ps</span>, <span class="st">"edges"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   from to type</span></span>
<span><span class="co">#&gt; 1    a  b    A</span></span>
<span><span class="co">#&gt; 2    a  c    N</span></span>
<span><span class="co">#&gt; 3    b  c    N</span></span></code></pre></div>
<p>Ambivalent ties add a new level of complexity for analytic tasks
(especially involving matrices) since it is not clear which value to
assign to them. Intuitively they should be “somewhere” between a
positive and a negative tie but zero is already taken for the null
tie.</p>
<p>We can construct a kind of adjacency matrix with the character
values, but we can’t really work with characters analytically.</p>
<p>This is where complex matrices come in. Instead of thinking about
edge values being only in one dimension, we can add a second one for
negative ties. That is, a positive tie would be coded as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(1,0)</annotation></semantics></math>
and a negative one as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(0,1)</annotation></semantics></math>.
It is much easier in this case to include ambivalent ties by assigning
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(0.5,0.5)</annotation></semantics></math>
to them.</p>
<p>Tuples like these can also be written as a complex number,
i.e. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(1,0)</annotation></semantics></math>
turns into
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>0</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">1+0i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(0,1)</annotation></semantics></math>
into
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>+</mo><mn>1</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">0+1i</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(0.5,0.5)</annotation></semantics></math>
into
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.5</mn><mo>+</mo><mn>0.5</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">0.5+0.5i</annotation></semantics></math>.
Complex numbers may be scary to some, but they have a kind of intuitive
interpretation here. The real part is the positive value of an edge and
the imaginary part is the negative part. So we could actually also have
something like
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.3</mn><mo>+</mo><mn>0.7</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">0.3+0.7i</annotation></semantics></math>
which is an edge that is 30% positive and 70% negative. For now, though,
the three values from above suffice.</p>
<p>The function <code><a href="../reference/as_adj_complex.html">as_adj_complex()</a></code> can be used to return the
complex adjacency matrix of a signed network with ambivalent ties.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/as_adj_complex.html">as_adj_complex</a></span><span class="op">(</span><span class="va">ps</span>, attr <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;          a        b    c</span></span>
<span><span class="co">#&gt; a 0.0+0.0i 0.5+0.5i 0+1i</span></span>
<span><span class="co">#&gt; b 0.5-0.5i 0.0+0.0i 0+1i</span></span>
<span><span class="co">#&gt; c 0.0-1.0i 0.0-1.0i 0+0i</span></span></code></pre>
<p>When there is a complex adjacency matrix, then there is also a
complex Laplacian matrix. This matrix can be obtained with
<code><a href="../reference/laplacian_matrix_complex.html">laplacian_matrix_complex()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/laplacian_matrix_complex.html">laplacian_matrix_complex</a></span><span class="op">(</span><span class="va">ps</span>, attr <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                a              b    c</span></span>
<span><span class="co">#&gt; a  1.707107+0.0i -0.500000-0.5i 0-1i</span></span>
<span><span class="co">#&gt; b -0.500000+0.5i  1.707107+0.0i 0-1i</span></span>
<span><span class="co">#&gt; c  0.000000+1.0i  0.000000+1.0i 2+0i</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="functions-supporting-ambivalent-ties">Functions supporting ambivalent ties<a class="anchor" aria-label="anchor" href="#functions-supporting-ambivalent-ties"></a>
</h2>
<p>So far, only the triangle routines support networks with ambivalent
ties.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/graph.full.html" class="external-link">graph.full</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/E.html" class="external-link">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"P"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/count_complex_triangles.html">count_complex_triangles</a></span><span class="op">(</span><span class="va">g</span>, attr <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span></span>
<span><span class="co">#&gt; PPP PPN PNN NNN PPA PNA NNA PAA NAA AAA </span></span>
<span><span class="co">#&gt;   0   2   0   0   1   3   1   0   2   1</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
